---
import type { CollectionEntry } from 'astro:content';

interface Props {
  briefs: (CollectionEntry<'posts'> & { readingTimeMinutes?: number })[];
  publication: CollectionEntry<'publications'>;
}

const { briefs, publication } = Astro.props;
---
<aside class="feature-card border border-[var(--rule)] bg-[var(--paper-2)]/85 p-4 shadow-paper" style={`--accent:${publication.data.accent}`}>
  <div class="mb-3 flex items-center justify-between">
    <div class="rack-eyebrow">Briefs</div>
    <span class="h-[1px] flex-1 bg-[var(--rule)]"></span>
  </div>
  <ul class="space-y-3">
    {briefs.map((brief) => (
      <li class="border-b border-dashed border-[var(--rule)] pb-3 last:border-none last:pb-0">
        <a href={`/posts/${brief.slug}`} class="block">
          <div class="text-xs uppercase tracking-[0.14em] text-[var(--muted)]">{brief.data.sectionId}</div>
          <div class={`font-display text-lg leading-tight text-[var(--ink)] ${publication.data.displayFont ?? ''}`}>{brief.data.headline}</div>
        </a>
      </li>
    ))}
  </ul>
</aside>
