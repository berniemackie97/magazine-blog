---
import type { CollectionEntry } from 'astro:content';

interface Props {
  publication?: CollectionEntry<'publications'> | null;
}

const { publication } = Astro.props;
---
<header class="masthead" style={publication ? `--accent:${publication.data.accent}` : undefined}>
  <div class="masthead-bar">
    <a href="/" class="flex items-center gap-3">
      <div class="brand-mark">MR</div>
      <div>
        <div class="brand-title">Magazine Rack</div>
        <div class="brand-sub">Latest issues for developers</div>
      </div>
    </a>
    <nav class="nav-links">
      <a href="/issues">Issues</a>
      <a href="/archive">Archive</a>
      <a href="/publications">Stands</a>
    </nav>
  </div>
  {publication && (
    <div class="border-t border-[var(--rule)] bg-[var(--paper-2)]/90 px-[var(--page-pad)] py-2">
      <div class="mx-auto flex max-w-screen-ultra items-center justify-between text-xs uppercase tracking-[0.18em]">
        <span class={publication.data.displayFont ?? ''}>{publication.data.name}</span>
        <span class="rounded-sm border border-[var(--rule)] bg-[var(--accent)]/15 px-2 py-1 text-[var(--accent)]">Accent live</span>
      </div>
    </div>
  )}
</header>
