@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Manrope:wght@400;600;700&family=Playfair+Display:wght@600;700&family=IBM+Plex+Mono:wght@400;600&display=swap');

:root {
  --paper: #0b0c12;
  --ink: #f6f1e8;
  --rule: #3a3b4a;
  --accent: #f97316;
  --font-body: 'DM Sans', 'Manrope', system-ui, -apple-system, sans-serif;
  --font-display: 'Playfair Display', 'DM Sans', serif;
  --font-mono: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Menlo, monospace;
  --page-max: 1200px;
  --page-pad: clamp(1.25rem, 2vw, 2.5rem);
  --gutter: clamp(1rem, 1.5vw, 1.5rem);
  --shadow: 0 18px 50px rgba(0, 0, 0, 0.35), 0 2px 10px rgba(0, 0, 0, 0.24);
  color: var(--ink);
  background: radial-gradient(circle at 15% 10%, rgba(249, 115, 22, 0.08), transparent 30%),
    radial-gradient(circle at 80% 15%, rgba(94, 234, 212, 0.06), transparent 35%),
    linear-gradient(145deg, #050508, #0f1018 60%, #050508);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-body);
  background:
    linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    linear-gradient(0deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    repeating-linear-gradient(0deg, transparent, transparent 18px, rgba(255, 255, 255, 0.018) 19px),
    #080b12;
  color: var(--ink);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

a {
  color: inherit;
  text-decoration: none;
}

.texture {
  position: relative;
}

.texture::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 45%);
  opacity: 0.35;
  pointer-events: none;
  mix-blend-mode: soft-light;
}

.hairline {
  border-top: 1px solid var(--rule);
}

.grid-columns {
  column-gap: var(--gutter);
}

@media (min-width: 960px) {
  .grid-columns {
    column-count: 2;
  }
}

.grid-columns > * {
  break-inside: avoid;
}

.paper-shadow {
  box-shadow: var(--shadow);
}

.caps {
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.display-serif {
  font-family: 'Playfair Display', 'DM Sans', serif;
}

.display-wide {
  font-family: 'Manrope', 'DM Sans', sans-serif;
  font-stretch: expanded;
  letter-spacing: -0.01em;
}

.masthead-ro {
  font-family: 'Playfair Display', 'DM Sans', serif;
  letter-spacing: 0.12em;
}

.masthead-fg {
  font-family: 'Manrope', 'DM Sans', sans-serif;
  letter-spacing: 0.08em;
  font-weight: 700;
}

.cover-grid {
  display: grid;
  gap: var(--gutter);
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.shelf-scroll {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(220px, 280px);
  gap: var(--gutter);
  overflow-x: auto;
  padding-bottom: 0.5rem;
  scroll-snap-type: x mandatory;
}

.shelf-scroll > * {
  scroll-snap-align: start;
}

.rack-shelf {
  position: relative;
}

.rack-rail {
  height: 6px;
  background: linear-gradient(90deg, var(--accent), transparent 35%, var(--accent));
  filter: drop-shadow(0 6px 8px rgba(0, 0, 0, 0.35));
  border-radius: 999px;
}

.cover-card {
  position: relative;
  overflow: hidden;
  --cover-bg: #111827;
  --cover-ink: #f8f6ee;
  background: var(--cover-bg);
  min-height: 520px;
  border: 1px solid rgba(255, 255, 255, 0.18);
}

.cover-card::after {
  content: '';
  position: absolute;
  inset: 10% -10% auto -10%;
  height: 18px;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.12), transparent);
  transform: rotate(-3deg);
  opacity: 0.9;
}

.cover-card[data-pub='red-ops'] {
  --cover-bg: radial-gradient(circle at 20% 10%, rgba(255, 92, 92, 0.15), transparent 40%),
    linear-gradient(135deg, #1a0d12, #2b0d13);
  --cover-ink: #ffeae0;
  --cover-grid: rgba(255, 92, 92, 0.18);
}

.cover-card[data-pub='field-guide'] {
  --cover-bg: radial-gradient(circle at 15% 20%, rgba(80, 220, 190, 0.18), transparent 40%),
    linear-gradient(120deg, #0d1f24, #0c3c3c);
  --cover-ink: #e3fff9;
  --cover-grid: rgba(80, 220, 190, 0.16);
}

.cover-card.cover-ro::before {
  content: '';
  position: absolute;
  inset: -40px -80px auto auto;
  width: 180px;
  height: 140px;
  background: radial-gradient(circle at 0% 100%, rgba(255, 107, 107, 0.35), transparent 60%);
  transform: rotate(-12deg);
}

.cover-card.cover-ro {
  border-radius: 10px 28px 12px 12px;
  box-shadow: 0 25px 40px rgba(255, 107, 107, 0.08), var(--shadow);
}

.cover-card.cover-ro .diagonal {
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 35%, rgba(255, 107, 107, 0.1) 40%, transparent 55%);
  mix-blend-mode: screen;
}

.cover-card.cover-ro .cover-stripes {
  background: repeating-linear-gradient(
    0deg,
    rgba(255, 255, 255, 0.08) 0,
    rgba(255, 255, 255, 0.08) 1px,
    transparent 1px,
    transparent 16px
  );
}

.cover-card.cover-fg {
  border-radius: 22px;
  box-shadow: 0 20px 36px rgba(58, 224, 194, 0.12), var(--shadow);
}

.cover-card.cover-fg .diagonal {
  position: absolute;
  inset: 12% -20% auto auto;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(58, 224, 194, 0.32), transparent 60%);
  filter: blur(8px);
}

.cover-card.cover-fg .map-dots {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle at 10% 30%, rgba(255, 255, 255, 0.08) 1px, transparent 1px);
  background-size: 120px 120px;
  mix-blend-mode: soft-light;
  opacity: 0.4;
}

.cover-card.cover-fg::before {
  content: '';
  position: absolute;
  inset: 0 auto 0 0;
  width: 12px;
  background: linear-gradient(180deg, rgba(58, 224, 194, 0.8), rgba(58, 224, 194, 0.3));
  box-shadow: 0 0 24px rgba(58, 224, 194, 0.25);
}

.cover-card .barcode {
  background: repeating-linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.7),
    rgba(0, 0, 0, 0.7) 2px,
    transparent 2px,
    transparent 4px
  );
}

.cover-photo {
  height: 320px;
  background-size: cover;
  background-position: center;
  position: relative;
}

.cover-photo-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.65) 100%);
}

.cover-photo-ro {
  clip-path: polygon(0 0, 100% 0, 100% 78%, 0 90%);
}

.cover-photo-fg {
  clip-path: ellipse(120% 92% at 50% 18%);
}

.inside-band {
  background: radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.05), transparent 40%), rgba(0, 0, 0, 0.72);
  padding: 14px 16px 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.inside-band.inside-ro {
  background: linear-gradient(180deg, rgba(18, 6, 10, 0.9), rgba(18, 6, 10, 0.8));
}

.inside-band.inside-fg {
  background: linear-gradient(180deg, rgba(5, 34, 24, 0.9), rgba(5, 34, 24, 0.8));
}

.ro-strap {
  position: absolute;
  inset: 12px auto 12px 0;
  width: 76px;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.85));
  padding: 10px 8px;
  display: grid;
  gap: 6px;
  text-align: left;
  border-right: 2px solid rgba(255, 255, 255, 0.3);
}

.ro-title-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  text-align: right;
}

.fg-masthead {
  position: absolute;
  top: 10px;
  left: 12px;
  right: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.article-body {
  column-gap: var(--gutter);
}

@media (min-width: 1024px) {
  .article-body {
    column-count: 2;
  }
}

.article-body p,
.article-body ul,
.article-body ol,
.article-body blockquote {
  margin-bottom: 1.25rem;
}

.article-body pre,
.article-body figure {
  break-inside: avoid;
  column-span: all;
  width: 100%;
}
